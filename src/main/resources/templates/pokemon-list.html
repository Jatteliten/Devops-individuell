<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/style.css">
    <title>Pokémon List</title>
</head>
<body>
<div class="container mt-4">
    <h1>
        <span class="outlined-text" style="color: red;">Pok</span><span style="color: #000000;">é</span><span class="outlined-text" style="color: white;">list</span>
    </h1>
    <a href="/pokemon/list"><button type="button" class="btn btn-outline-danger">Clear filters</button></a>

    <form class="form-inline my-2 my-lg-0" style="padding-top: 5px;" method="get" action="/pokemon/list-by-search">
        <input class="form-control mr-sm-2" type="search"   name="searchWord" placeholder="Search" aria-label="Search">
    </form>

    <div class="dropdown show" style="padding-top:5px;">
        <a class="btn btn-outline-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Type
        </a>

        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
            <a th:each="type : ${types}">
                <a th:href="'/pokemon/list-by-type?type=' + ${type.toLowerCase()}"
                   th:text="${type}"
                   th:class="'btn type-button type-' + ${type.toLowerCase()}">
                </a>
            </a>
        </div>
    </div>

    <table class="table mt-3">
        <thead>
        <tr>
            <th>Pokédex ID</th>
            <th>Sprite</th>
            <th>Name</th>
            <th>Type</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="pokemon : ${pokemonlist}">
            <td th:text="${pokemon.pokedexId}">Pokedex ID</td>
            <td>
                <img th:src="${pokemon.spriteLink}" alt="Sprite" style="max-width: 100px; max-height: 100px;">
            </td>
            <td th:text="${pokemon.name}">Name</td>
            <td>
                <div th:each="type : ${pokemon.types}">
                    <a th:href="'/pokemon/list-by-type?type=' + ${type.name.toLowerCase()}"
                       th:text="${type.name}"
                       th:class="'btn type-button type-' + ${type.name.toLowerCase()}">
                    </a>
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<a id="back-to-top" href="#"><button type="button" class="btn btn-outline-success">to Top</button></a>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

<script>
    window.onscroll = function() {
        const backToTopBtn = document.getElementById("back-to-top");
        if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
            backToTopBtn.style.display = "block";
        } else {
            backToTopBtn.style.display = "none";
        }
    };
    document.getElementById("back-to-top").addEventListener("click", function(e) {
        e.preventDefault();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });
</script>
</body>
</html>
